@page
@model RegisterModel

<h2>Registration Page</h2>

<form method="post">
    <div>
        <label>Email</label>
        <input asp-for="Input.Email" />
        <span asp-validation-for="Input.Email"></span>
    </div>
    <div>
        <label>Password</label>
        <input asp-for="Input.Password" type="password" />
        <span asp-validation-for="Input.Password"></span>
    </div>
    <div>
        <label for="Role">Role</label>
        <select asp-for="Role" asp-items="@(new SelectList((List<string>)ViewData["Roles"]))" onchange="displayRoleSpecificFields(this.value)">
        </select>
    </div>

    <!-- Admin Fields -->
    <div id="AdminFields" style="display:none">
        <h3>Admin Details</h3>
        <label>First Name</label>
        <input name="AdminFirstName" />
        <label>Middle Initial</label>
        <input name="AdminMiddleInitial" maxlength="1" />
        <label>Last Name</label>
        <input name="AdminLastName" />
        <label>Office</label>
        <input name="AdminOffice" />
        <label>Date of Birth</label>
        <input name="AdminDoB" type="date" />
        <label>Phone</label>
        <input name="AdminPhone" />
    </div>

    <!-- Doctor Fields -->
    <div id="DoctorFields" style="display:none">
        <h3>Doctor Details</h3>
        <label>First Name</label>
        <input name="DoctorFirstName" />
        <label>Middle Initial</label>
        <input name="DoctorMiddleInitial" maxlength="1" />
        <label>Last Name</label>
        <input name="DoctorLastName" />
        <label>Office</label>
        <input name="DoctorOffice" />
        <label>Date of Birth</label>
        <input name="DoctorDoB" type="date" />
        <label>Phone</label>
        <input name="DoctorPhone" />
        <label for="DoctorSpecialtyId">Specialty</label>
        <select asp-for="DoctorSpecialtyId" asp-items="@(new SelectList((IEnumerable<SelectListItem>)ViewData["SpecialtyItems"], "Value", "Text"))">
            <option value="">Select Specialty</option>
        </select>
    </div>

    <!-- Nurse Fields -->
    <div id="NurseFields" style="display:none">
        <h3>Nurse Details</h3>
        <label>First Name</label>
        <input name="NurseFirstName" />
        <label>Middle Initial</label>
        <input name="NurseMiddleInitial" maxlength="1" />
        <label>Last Name</label>
        <input name="NurseLastName" />
        <label>Office</label>
        <input name="NurseOffice" />
        <label>Date of Birth</label>
        <input name="NurseDoB" type="date" />
        <label>Phone</label>
        <input name="NursePhone" />
    </div>

    <!-- Patient Fields -->
    <div id="PatientFields" style="display:none">
        <h3>Patient Details</h3>
        <label>First Name</label>
        <input name="PatientFirstName" />
        <label>Last Name</label>
        <input name="PatientLastName" />
        <label>Address</label>
        <input name="PatientAddress" />
        <label>Phone</label>
        <input name="PatientPhone" />
        <label>Gender</label>
        <select name="PatientGender">
            <option value="Male">Male</option>
            <option value="Female">Female</option>
            <!-- ... -->
        </select>
        <label>Date of Birth</label>
        <input name="PatientDoB" type="date" />
        <label>Balance</label>
        <input name="PatientBalance" type="number" step="0.01" />
    </div>

    <button type="submit">Register</button>
</form>

@section Scripts {
    <script>
        function displayRoleSpecificFields(role) {
            const fields = ['Admin', 'Doctor', 'Nurse', 'Patient'];

            fields.forEach(field => {
                if (field === role) {
                    document.getElementById(`${field}Fields`).style.display = "block";
                } else {
                    document.getElementById(`${field}Fields`).style.display = "none";
                }
            });
        }
    </script>
}

